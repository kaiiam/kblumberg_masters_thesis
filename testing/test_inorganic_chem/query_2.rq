PREFIX file: <file:/home/kai/Desktop/grad_school/marmic/master_thesis/kblumberg_masters_thesis/testing/test_inorganic_chem/test_inorganic_chem_cleaned.csv>
PREFIX obo: <http://purl.obolibrary.org/obo/> 
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX ietf: <http://tools.ietf.org/html/>

#SELECT ?nLat ?nData
SELECT ?nLat ?nData ?oLat ?oData

FROM <test_inorganic_chem_cleaned.nt>
FROM <test_inorganic_chem_cleaned_sup.ttl>
FROM <test_phys_oce_current.nt>
FROM <test_phys_oce_current_sup.ttl>

WHERE 
{

#give me any things that somehow linked to nitrate
?NitrateColumn ?no3link obo:CHEBI_17632 .

#give me any things that are somehow linked to oxygen
?OxygenColumn ?o2link obo:CHEBI_15379 .

#give me something about Latitude
?LatitudeColumn rdfs:label "Latitude" .

#give me something about date time
?DateTimeColumn rdfs:label "Date Time" .

{
# give me a data item that is about a marine water body, and get me it's rows. 
?s rdf:type obo:IAO_0000027;
	obo:IAO_0000136 obo:ENVO_00001999 ;
	ietf:rfc4180row ?MarWatBodRows .

#get data which has nitrate information get its nitrate and latitude
?MarWatBodRows ?NitrateColumn ?nData ;
	?LatitudeColumn ?nLat ;
	?DateTimeColumn ?nDT .
}

UNION

{
# give me a data item that is about a marine current, and get me it's rows. 
?s1 rdf:type obo:IAO_0000027;
	obo:IAO_0000136 obo:ENVO_01000067 ;
	ietf:rfc4180row ?MarCurRows .

#?MarWatBodRows ?has ?stuff .

#get data which has oxygen information get its oxygen and latitude
?MarCurRows ?OxygenColumn ?oData ;
	?LatitudeColumn ?oLat ;
	?DateTimeColumn ?oDT . 

#?MarCurRows ?has ?stuff .


}

#FILTER(xsd:float(?oLat) = xsd:float(?nLat))

#FILTER(xsd:dateTime(?oDT) = xsd:dateTime(?nDT))


#GRAPH ?graph {}

}
